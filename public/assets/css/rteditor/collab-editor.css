/* Path: /public/assets/css/rteditor/collab-editor.css
   Minimal, framework-free ProseMirror styling so typing feels natural. */

#editor { position: relative; z-index: 1; background: #fff; }
#editor .ProseMirror {
  min-height: 360px;
  outline: none;
  white-space: pre-wrap;
  word-break: break-word;
  padding: 0; /* outer #editor already has padding (Bootstrap card-body) */
}

/* Make the card header stick at the top while the page scrolls */
.card > .card-header {
  position: sticky;
  top: 0;
  z-index: 2;          /* above the page canvas */
  border-bottom: 1px solid #e9ecef;
}

/* Paragraph spacing */
#editor .ProseMirror p { margin: 0 0 .75rem; }

/* Headings */
#editor .ProseMirror h1 { font-size: 1.5rem; margin: 1rem 0 .5rem; }
#editor .ProseMirror h2 { font-size: 1.25rem; margin: .875rem 0 .5rem; }
#editor .ProseMirror h3 { font-size: 1.125rem; margin: .75rem 0 .5rem; }

/* Lists */
#editor .ProseMirror ul, 
#editor .ProseMirror ol { padding-left: 1.5rem; margin: 0 0 .75rem; }

/* Code block / blockquote */
#editor .ProseMirror pre { background: #f8f9fa; padding: .75rem; border-radius: .5rem; }
#editor .ProseMirror blockquote { border-left: 3px solid #dee2e6; margin: .75rem 0; padding: .25rem .75rem; color: #6c757d; }

/* Table basics (if you add tables later) */
#editor .ProseMirror table { border-collapse: collapse; width: 100%; margin: .75rem 0; }
#editor .ProseMirror th,
#editor .ProseMirror td { border: 1px solid #dee2e6; padding: .5rem; }

/* Defensive: ensure editor remains interactive */
#editor, #editor * { pointer-events: auto; user-select: text; }
#editor .ProseMirror[contenteditable="false"] { background: #f8f9fa; }

#editor mark { padding: 0 .15em; border-radius: .15rem; }

/* sensible defaults */
#editor .ProseMirror p,
#editor .ProseMirror h1,
#editor .ProseMirror h2,
#editor .ProseMirror h3,
#editor .ProseMirror blockquote {
  line-height: 1.15;
  margin-top: 0;
  margin-bottom: .75rem; /* visual breathing room; user setting overrides inline */
}

/* lists: paragraphs inside list items should not add extra bottom margin by default */
#editor .ProseMirror li > p {
  margin: 0; /* user-set spacing will override with inline style */
}

/* tables styling */
#editor .ProseMirror table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

#editor .ProseMirror th,
#editor .ProseMirror td {
  border: 1px solid #dee2e6;
  padding: .5rem;
  vertical-align: top;
  background: #fff;
}

#editor .ProseMirror th {
  background: #f8f9fa;
  font-weight: 600;
  text-align: left;
}

/* show column resize handle nicer */
#editor .ProseMirror .column-resize-handle {
  position: absolute;
  right: -2px;
  top: 0;
  bottom: 0;
  width: 4px;
  background: rgba(0,0,0,.15);
  pointer-events: none;
}

/* Signature field block */
#editor .rt-signature-field {
  display: block;
  border: 1px dashed #c9c9c9;
  border-radius: .25rem;
  padding: .5rem .75rem;
  margin: .5rem 0;
  background: #fcfcfc;
}

#editor .rt-signature-line {
  border-bottom: 2px solid #333;
  height: 1.75rem;
  margin-bottom: .25rem;
}

#editor .rt-signature-meta {
  font-size: .85rem;
  color: #6c757d;
}

/* Optional: make font-family options preview their font */
select[data-cmd-input="setFontFamily"] option[value*="Times New Roman"] { font-family: "Times New Roman", Times, serif; }
select[data-cmd-input="setFontFamily"] option[value*="Georgia"]        { font-family: Georgia, serif; }
select[data-cmd-input="setFontFamily"] option[value*="Garamond"]       { font-family: Garamond, serif; }
select[data-cmd-input="setFontFamily"] option[value*="Arial"]          { font-family: Arial, Helvetica, sans-serif; }
select[data-cmd-input="setFontFamily"] option[value*="Helvetica"]      { font-family: Helvetica, Arial, sans-serif; }
select[data-cmd-input="setFontFamily"] option[value*="Tahoma"]         { font-family: Tahoma, Verdana, Segoe, sans-serif; }
select[data-cmd-input="setFontFamily"] option[value*="Verdana"]        { font-family: Verdana, Tahoma, sans-serif; }
select[data-cmd-input="setFontFamily"] option[value*="Segoe UI"]       { font-family: Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
select[data-cmd-input="setFontFamily"] option[value*="Courier New"]    { font-family: "Courier New", Courier, monospace; }
select[data-cmd-input="setFontFamily"] option[value*="Consolas"]       { font-family: Consolas, Monaco, monospace; }

/* ===== Paged Layout ===== */
/* Page band should only scroll horizontally; vertical scroll goes to the window */
#pageRoot {
  display: block;           /* not flex: we’ll center differently */
  padding: 1rem;
  background: #f2f3f5;
  overflow-x: auto;     /* keep horizontal scroll for wide pages */
  overflow-y: visible;  /* vertical scroll on window so sticky works */
}

/* Make the toolbar row sticky (wrap toolbar in .rt-toolbar-sticky) */
.rt-toolbar-sticky {
  position: sticky;
  top: var(--rt-sticky-top, 0);  /* if you have a fixed app topbar, set 56px here */
  z-index: 10;
  background: #fff;              /* avoid translucency while stuck */
  border-bottom: 1px solid #e9ecef;
}

/* Center the page and allow it to overflow horizontally inside pageRoot */
#pageRoot .rt-page {
  margin: 0 auto;           /* center */
}

/* One visual page becomes a flex column: header / content / footer */
.rt-page {
  position: relative;
  background: #fff;
  box-shadow: 0 6px 24px rgba(0,0,0,.12), 0 2px 6px rgba(0,0,0,.08);
  border: 1px solid #e5e7eb;
  display: flex;
  flex-direction: column;
  overflow: hidden;                /* content clipped at page edge (for now) */
  margin: 0 auto;                  /* center page */
}

/* Header / Footer stay auto height; footer’s border shows */
.rt-header, .rt-footer {
  padding: .5rem .75rem;
  font-size: .9rem;
  color: #495057;
  min-height: 32px;
}
.rt-header { border-bottom: 1px dashed #e5e7eb; }
.rt-footer { border-top: 1px dashed #e5e7eb; }

/* Content area flexes to fill the remaining height; The content area should NOT scroll by itself */
.rt-page-content {
  flex: 1 1 auto;           /* <— fill remaining space */
  min-height: 0;            /* <— enable child scroll */
  overflow: visible;           /* <— key: no inner scroll, page moves as a whole */
  background: transparent;
}

/* Make editor fill the content area nicely */
#editor {
  min-height: 600px;
}

/* Print: remove shadows, center, and let @page control size/margins */
@media print {
  #pageRoot { padding: 0; background: #fff; overflow: visible; }
  .rt-page {
    box-shadow: none;
    border: 0;
    margin: 0 auto;
    page-break-after: always;
  }
}

/* Visible page-break marker on screen */
.rt-page-break {
  border: 0;
  border-top: 2px dashed #c7c7c7;
  margin: 1rem 0;
  height: 0;
  position: relative;
}
.rt-page-break::after {
  content: "Page Break";
  position: absolute;
  top: -0.8rem;
  left: 0;
  font-size: .75rem;
  color: #6c757d;
  background: #fff;
  padding: 0 .4rem;
}

/* Print: force an actual page break */
@media print {
  .rt-page-break {
    break-after: page;        /* modern */
    page-break-after: always; /* legacy */
    border: 0;
    height: 0;
    margin: 0;
  }
}